<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/content-styles.css">

</head>
<body>
    <nav>
        <a href="/folders">Home</a>
        <a href="/logout">Logout</a>
    </nav>
    <h1>Welcome back, <%= user.name %>!</h1>
    <h3>Create a new folder</h3>

    <form action="/folders" method="POST" class="new-folder">
        <input type="text" name="folderName" required>
        <button type="submit">Create</button>
    </form>

    <header>
        <h3>All folders</h3>
        <h3 class="file-no">&#40;<%= folders.length %> folders&#41;</h3>
    </header>


    <ul class="content folders">
        <% folders.forEach(folder => {%>   
            <li class="item" onclick="window.location.href='/folders/<%= folder.id %>/';">
                <%= folder.name %>

                <form  action="/folders/<%= folder.id %>/delete" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this folder?');">
                    <button class="delete-btn" type="submit" onclick="event.stopPropagation();" ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="25" height="25">
                        <title>trash-can-outline</title>
                        <path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z" />
                      </svg>
                      </button>
                </form>
            </li>
        <% }) %>
    </ul>
    
</body>
</html>


